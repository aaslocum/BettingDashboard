@tailwind base;
@tailwind components;
@tailwind utilities;

/* NBC NFL Color Palette */
:root {
  --nbc-navy: #0a1628;
  --nbc-navy-light: #142238;
  --nbc-gold: #d4af37;
  --nbc-gold-bright: #ffc107;
  --nbc-silver: #c0c0c0;
  --nbc-red: #c8102e;
  --nbc-blue-accent: #1e3a5f;
}

@layer base {
  body {
    @apply bg-gray-900 text-white min-h-screen;
    font-family: 'Segoe UI', 'Roboto', system-ui, sans-serif;
  }
}

@layer components {
  .btn-primary {
    @apply text-white font-bold py-2 px-4 rounded transition-colors;
    background: linear-gradient(180deg, var(--nbc-blue-accent) 0%, #152a45 100%);
    border: 1px solid rgba(212, 175, 55, 0.3);
  }
  .btn-primary:hover {
    background: linear-gradient(180deg, #264a73 0%, var(--nbc-blue-accent) 100%);
    border-color: var(--nbc-gold);
  }

  .btn-secondary {
    @apply text-white font-bold py-2 px-4 rounded transition-colors;
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }
  .btn-secondary:hover {
    background: rgba(255, 255, 255, 0.14);
    border-color: rgba(255, 255, 255, 0.3);
  }

  .btn-danger {
    @apply bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition-colors;
    border: 1px solid rgba(200, 16, 46, 0.5);
  }

  .btn-success {
    @apply text-white font-bold py-2 px-4 rounded transition-colors;
    background: linear-gradient(180deg, #1a6b35 0%, #0f4422 100%);
    border: 1px solid rgba(74, 222, 128, 0.3);
  }
  .btn-success:hover {
    background: linear-gradient(180deg, #1f8040 0%, #1a6b35 100%);
    border-color: rgba(74, 222, 128, 0.5);
  }

  .card {
    background: linear-gradient(180deg, var(--nbc-navy-light) 0%, var(--nbc-navy) 100%);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: 4px;
    padding: 1rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  }

  .input-field {
    @apply rounded px-3 py-2 text-white focus:outline-none;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }
  .input-field:focus {
    border-color: var(--nbc-gold);
  }

  /* NBC-Style Panel */
  .nbc-panel {
    background: linear-gradient(180deg, var(--nbc-navy-light) 0%, var(--nbc-navy) 100%);
    border: 1px solid rgba(212, 175, 55, 0.3);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
  }

  .nbc-panel-header {
    background: linear-gradient(90deg, var(--nbc-navy) 0%, var(--nbc-blue-accent) 100%);
    padding: 10px 16px;
    display: flex;
    align-items: center;
    gap: 10px;
    border-bottom: 2px solid var(--nbc-gold);
  }

  .nbc-header-accent {
    width: 4px;
    height: 18px;
    background: var(--nbc-gold);
    border-radius: 2px;
  }

  .nbc-panel-title {
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 0.1em;
    color: white;
    text-transform: uppercase;
  }

  .nbc-team-header {
    background: rgba(0, 0, 0, 0.3);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .nbc-team-abbr {
    font-size: 16px;
    font-weight: 800;
    color: white;
    letter-spacing: 0.05em;
  }

  .nbc-team-badge {
    background: var(--nbc-blue-accent);
    color: var(--nbc-silver);
    font-size: 9px;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 2px;
    letter-spacing: 0.05em;
  }

  /* Stat Row */
  .nbc-stat-row {
    padding: 6px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .nbc-stat-row:last-child {
    border-bottom: none;
  }

  .nbc-stat-label {
    font-size: 10px;
    font-weight: 600;
    color: var(--nbc-silver);
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  .nbc-stat-value {
    font-size: 14px;
    font-weight: 700;
    color: #e0e0e0;
    min-width: 50px;
    text-align: center;
  }

  .nbc-stat-leader {
    color: var(--nbc-gold) !important;
  }

  /* Stat Bar */
  .nbc-stat-bar {
    display: flex;
    height: 4px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 2px;
    overflow: hidden;
  }

  .nbc-stat-bar-away {
    background: #4a5568;
    transition: width 0.5s ease;
  }

  .nbc-stat-bar-home {
    background: #4a5568;
    transition: width 0.5s ease;
  }

  .nbc-bar-leader {
    background: linear-gradient(90deg, var(--nbc-gold) 0%, #b8962d 100%) !important;
  }

  /* Tab Styles */
  .nbc-tab-active {
    color: var(--nbc-gold);
    border-bottom: 2px solid var(--nbc-gold);
    background: rgba(212, 175, 55, 0.1);
  }

  /* Stat Table */
  .nbc-stat-table-header {
    display: flex;
    align-items: center;
    padding: 6px 8px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 2px;
    margin-bottom: 4px;
    font-size: 9px;
    font-weight: 700;
    color: var(--nbc-silver);
    letter-spacing: 0.1em;
  }

  .nbc-stat-table-row {
    display: flex;
    align-items: center;
    padding: 8px;
    background: rgba(255, 255, 255, 0.02);
    border-radius: 2px;
    font-size: 12px;
    transition: background 0.2s;
  }

  .nbc-stat-table-row:hover {
    background: rgba(255, 255, 255, 0.05);
  }

  .nbc-leader-row {
    background: rgba(212, 175, 55, 0.1);
    border-left: 3px solid var(--nbc-gold);
  }

  .text-nbc-gold {
    color: var(--nbc-gold);
  }

  /* NBC Scoreboard */
  .nbc-scoreboard {
    background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
    border: 1px solid rgba(212, 175, 55, 0.4);
    border-radius: 4px;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
  }

  .nbc-scoreboard-header {
    background: linear-gradient(90deg, var(--nbc-red) 0%, #a00d24 100%);
    padding: 6px 12px;
    text-align: center;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.15em;
    color: white;
    text-transform: uppercase;
  }

  .nbc-score-row {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .nbc-score-row:last-child {
    border-bottom: none;
  }

  .nbc-team-name {
    flex: 1;
    font-size: 18px;
    font-weight: 800;
    letter-spacing: 0.02em;
  }

  .nbc-score {
    font-size: 32px;
    font-weight: 800;
    color: white;
    min-width: 60px;
    text-align: right;
    font-variant-numeric: tabular-nums;
  }

  /* NBC Header/Title */
  .nbc-main-title {
    background: linear-gradient(90deg, var(--nbc-navy) 0%, var(--nbc-blue-accent) 50%, var(--nbc-navy) 100%);
    padding: 12px 24px;
    border-bottom: 3px solid var(--nbc-gold);
    text-align: center;
    position: relative;
  }

  .nbc-main-title h1 {
    font-size: 28px;
    font-weight: 800;
    letter-spacing: 0.15em;
    color: white;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
  }

  .nbc-main-title::before,
  .nbc-main-title::after {
    content: '';
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 60px;
    height: 3px;
    background: var(--nbc-gold);
  }

  .nbc-main-title::before {
    left: 20px;
  }

  .nbc-main-title::after {
    right: 20px;
  }

  /* NBC Footer Ticker */
  .nbc-ticker {
    background: linear-gradient(180deg, #1a1a2e 0%, #0a0a14 100%);
    border-top: 2px solid var(--nbc-gold);
  }

  .nbc-ticker-content {
    padding: 8px 0;
  }

  /* Winners Panel NBC Style */
  .nbc-winners-panel {
    background: linear-gradient(180deg, var(--nbc-navy-light) 0%, var(--nbc-navy) 100%);
    border: 1px solid rgba(212, 175, 55, 0.3);
    border-radius: 4px;
    overflow: hidden;
  }

  .nbc-quarter-row {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .nbc-quarter-label {
    font-size: 11px;
    font-weight: 700;
    color: var(--nbc-silver);
    width: 70px;
    letter-spacing: 0.05em;
  }

  .nbc-quarter-winner {
    flex: 1;
    font-size: 14px;
    font-weight: 700;
    color: var(--nbc-gold);
  }

  .nbc-quarter-prize {
    font-size: 12px;
    color: #4ade80;
    font-weight: 600;
  }

  /* Rotating Panel Animation */
  .panel-fade-enter {
    opacity: 0;
    transform: translateY(10px);
  }

  .panel-fade-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .panel-fade-exit {
    opacity: 1;
  }

  .panel-fade-exit-active {
    opacity: 0;
    transition: opacity 0.2s ease;
  }
}

/* Squares grid styling */
.squares-grid {
  display: grid;
  grid-template-columns: repeat(11, 1fr);
  gap: 2px;
}

.square {
  @apply aspect-square flex items-center justify-center text-xs font-semibold cursor-pointer transition-all;
}

.square:hover:not(.claimed):not(.header) {
  @apply bg-blue-600;
}

.square.claimed {
  @apply bg-green-700 cursor-default;
}

.square.winner {
  @apply bg-yellow-500 text-black animate-pulse;
}

.square.header {
  @apply bg-gray-700 cursor-default font-bold;
}

/* NBC App Background (shared across all pages) */
.nbc-app-bg {
  background: linear-gradient(180deg, #0a0f1a 0%, #050810 100%);
  min-height: 100vh;
}

/* NBC Navigation (legacy - kept for admin if needed) */
.nbc-nav {
  background: linear-gradient(90deg, var(--nbc-navy) 0%, var(--nbc-blue-accent) 50%, var(--nbc-navy) 100%);
  border-bottom: 2px solid var(--nbc-gold);
}

.nbc-nav-title {
  color: var(--nbc-gold);
}

.nbc-nav-link {
  padding: 6px 10px;
  border-radius: 3px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: #9ca3af;
  transition: color 0.2s, background 0.2s;
  border-bottom: 2px solid transparent;
}

.nbc-nav-link:hover {
  color: white;
}

.nbc-nav-link-active {
  color: var(--nbc-gold) !important;
  background: rgba(212, 175, 55, 0.1);
  border-bottom-color: var(--nbc-gold);
}

/* NBC Header Scoreboard â€” sticky app header replacing nav */
.nbc-header-scoreboard {
  background: linear-gradient(180deg, #1a1a2e 0%, #0f0f1a 100%);
  border-bottom: 2px solid var(--nbc-gold);
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
}

/* Section Header (reusable for player/admin pages) */
.nbc-section-header {
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--nbc-gold);
  padding-bottom: 8px;
  margin-bottom: 12px;
  border-bottom: 1px solid rgba(212, 175, 55, 0.3);
}

/* Card header accent bar */
.card-header-accent {
  width: 3px;
  height: 16px;
  background: var(--nbc-gold);
  border-radius: 1px;
  display: inline-block;
  margin-right: 8px;
  vertical-align: middle;
}

/* Form inputs themed */
.nbc-input {
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-radius: 3px;
  padding: 8px 12px;
  color: white;
  font-size: 14px;
  transition: border-color 0.2s;
}

.nbc-input:focus {
  outline: none;
  border-color: var(--nbc-gold);
}

.nbc-input:disabled {
  opacity: 0.5;
}

/* Subtle row divider */
.nbc-divider {
  border-color: rgba(255, 255, 255, 0.06);
}

/* NBC Display mode */
.display-mode {
  background: linear-gradient(180deg, #0a0f1a 0%, #050810 100%);
  max-height: -webkit-fill-available; /* iOS/older browser fallback for dvh */
}

/* Tablet-compact display overrides */
.display-title-compact {
  padding: 4px 12px;
  margin-bottom: 2px;
  border-bottom-width: 2px;
}

.display-title-compact h1 {
  font-size: 15px;
  letter-spacing: 0.1em;
}

.display-title-compact::before,
.display-title-compact::after {
  width: 30px;
  height: 2px;
}

.display-panel-header-compact {
  padding: 4px 10px;
}

.display-score-row-compact {
  padding: 4px 10px;
}

.display-team-compact {
  font-size: 13px;
}

.display-score-compact {
  font-size: 22px;
  min-width: 40px;
}

.nbc-ticker-compact {
  border-top-width: 1px;
}

.nbc-ticker-compact .nbc-ticker-content {
  padding: 3px 0;
  font-size: 12px;
}

/* Scale grid squares down for tablet */
.display-mode .squares-grid {
  gap: 2px;
  background: rgba(0, 0, 0, 0.3);
  padding: 4px;
  border-radius: 4px;
  border: 1px solid rgba(212, 175, 55, 0.2);
}

.display-mode .square {
  @apply text-xs font-bold;
  border-radius: 2px;
}

.display-mode .square.header {
  background: linear-gradient(180deg, var(--nbc-blue-accent) 0%, var(--nbc-navy) 100%);
  color: var(--nbc-gold);
  font-size: 10px;
}

.display-mode .square.claimed {
  background: linear-gradient(180deg, #1a4d2e 0%, #0f3320 100%);
  border: 1px solid rgba(74, 222, 128, 0.3);
}

.display-mode .square.winner {
  background: linear-gradient(180deg, var(--nbc-gold) 0%, #b8962d 100%);
  color: #000;
  animation: winner-pulse 1s ease-in-out infinite;
}

@keyframes winner-pulse {
  0%, 100% {
    box-shadow: 0 0 10px var(--nbc-gold);
  }
  50% {
    box-shadow: 0 0 25px var(--nbc-gold), 0 0 40px rgba(212, 175, 55, 0.5);
  }
}

/* Odds ticker animation */
@keyframes ticker {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.odds-ticker {
  animation: ticker 30s linear infinite;
}

.odds-ticker:hover {
  animation-play-state: paused;
}

/* Panel rotation indicator */
.panel-indicator {
  display: flex;
  justify-content: center;
  gap: 4px;
  padding: 4px;
}

.panel-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transition: all 0.3s ease;
}

.panel-dot.active {
  background: var(--nbc-gold);
  box-shadow: 0 0 6px var(--nbc-gold);
}

/* Square Likelihood Visualization */
:root {
  --likelihood-current: #FBBF24;
  --likelihood-very-high: #FF8C00;
  --likelihood-high: #FFA500;
  --likelihood-medium: #FFD700;
  --likelihood-low: #FFEB99;
}

/* Likelihood color classes for squares */
.square.likelihood-current {
  background: linear-gradient(135deg, var(--likelihood-current) 0%, #d4a01d 100%) !important;
  color: #000 !important;
  animation: winner-pulse 1s ease-in-out infinite;
}

.square.likelihood-very-high {
  transition: all 0.4s ease;
}

.square.likelihood-high {
  transition: all 0.4s ease;
}

.square.likelihood-medium {
  transition: all 0.4s ease;
}

.square.likelihood-low {
  transition: all 0.4s ease;
}

.square.likelihood-none {
  transition: all 0.4s ease;
}

/* Unclaimed squares with likelihood - more prominent */
.square.unclaimed-likely {
  cursor: default;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.square.unclaimed-likely.likelihood-very-high {
  box-shadow: 0 0 12px rgba(255, 140, 0, 0.5);
  border-color: var(--likelihood-very-high);
}

.square.unclaimed-likely.likelihood-high {
  box-shadow: 0 0 8px rgba(255, 165, 0, 0.4);
  border-color: var(--likelihood-high);
}

.square.unclaimed-likely.likelihood-medium {
  box-shadow: 0 0 6px rgba(255, 215, 0, 0.3);
  border-color: var(--likelihood-medium);
}

.square.unclaimed-likely.likelihood-low {
  box-shadow: 0 0 4px rgba(255, 235, 153, 0.2);
  border-color: var(--likelihood-low);
}

/* Claimed squares with likelihood - subtle overlay */
.square.claimed.likelihood-very-high {
  border: 2px solid var(--likelihood-very-high);
}

.square.claimed.likelihood-high {
  border: 2px solid var(--likelihood-high);
}

.square.claimed.likelihood-medium {
  border: 2px solid var(--likelihood-medium);
}

.square.claimed.likelihood-low {
  border: 2px solid var(--likelihood-low);
}

/* Display mode tablet-compact overrides for all nested components */
.display-mode .nbc-panel-header {
  padding: 3px 8px;
  gap: 5px;
}

.display-mode .nbc-panel-header .nbc-header-accent {
  height: 10px;
  width: 2px;
}

.display-mode .nbc-panel-title {
  font-size: 10px;
}

.display-mode .nbc-quarter-row {
  padding: 3px 6px;
}

.display-mode .nbc-quarter-label {
  font-size: 9px;
  width: 45px;
}

.display-mode .nbc-quarter-winner {
  font-size: 10px;
}

.display-mode .nbc-quarter-prize {
  font-size: 9px;
}

.display-mode .nbc-stat-table-header {
  padding: 3px 5px;
  font-size: 7px;
}

.display-mode .nbc-stat-table-row {
  padding: 3px 5px;
  font-size: 9px;
}

.display-mode .nbc-scoreboard-header {
  padding: 3px 6px;
  font-size: 8px;
}

/* Compact odds in display mode */
.display-mode .nbc-panel .p-3 {
  padding: 4px;
}

.display-mode .nbc-panel .space-y-3 > * + * {
  margin-top: 3px;
}

.display-mode .nbc-panel .bg-black\/30 {
  padding: 3px 5px;
}

/* Compact nbc-panel in display mode */
.display-mode .nbc-panel {
  border-width: 1px;
}

/* Display mode likelihood enhancements */
.display-mode .square.likelihood-current {
  animation: winner-pulse 1s ease-in-out infinite;
}

.display-mode .square.unclaimed-likely {
  border-width: 2px;
}

.display-mode .square.unclaimed-likely.likelihood-very-high {
  box-shadow: 0 0 16px rgba(255, 140, 0, 0.6);
}

.display-mode .square.unclaimed-likely.likelihood-high {
  box-shadow: 0 0 12px rgba(255, 165, 0, 0.5);
}

/* Likelihood Legend Styling */
.likelihood-legend {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 12px;
  margin-top: 12px;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 8px;
}

.likelihood-legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  color: #9ca3af;
}

.likelihood-legend-swatch {
  width: 16px;
  height: 16px;
  border-radius: 3px;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Score update animation - flash effect when likelihood changes */
@keyframes likelihood-flash {
  0% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.05);
    filter: brightness(1.3);
  }
  100% {
    transform: scale(1);
    filter: brightness(1);
  }
}

.square.likelihood-updated {
  animation: likelihood-flash 0.5s ease-out;
}

/* Hover effect for likelihood squares showing percentage */
.square .likelihood-percent {
  position: absolute;
  bottom: 1px;
  right: 2px;
  font-size: 8px;
  color: rgba(255, 255, 255, 0.8);
  background: rgba(0, 0, 0, 0.6);
  padding: 0 3px;
  border-radius: 2px;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.square:hover .likelihood-percent {
  opacity: 1;
}

/* Mobile adjustments for likelihood */
@media (max-width: 640px) {
  .square.unclaimed-likely {
    box-shadow: none;
  }

  .likelihood-legend {
    gap: 8px;
    padding: 8px;
  }

  .likelihood-legend-item {
    font-size: 10px;
  }

  .likelihood-legend-swatch {
    width: 12px;
    height: 12px;
  }
}
